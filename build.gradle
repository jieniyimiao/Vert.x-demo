plugins {
	id 'java'
	id 'idea'
	id 'application'
	id 'com.github.johnrengelman.shadow' version '1.2.3'
}

repositories {
	jcenter()
	maven {
//		url "http://maven.aliyun.com/nexus/content/groups/public"
		url "https://oss.sonatype.org/content/repositories/iovertx-3833/"
	}
}

version = '3.8.0'
sourceCompatibility = '1.8'

dependencies {
	compile "io.vertx:vertx-core:$version"
	compile "io.vertx:vertx-web:$version"
	compile "io.vertx:vertx-web-client:$version"

	compile "com.alibaba:fastjson:1.2.47"
	compile "joda-time:joda-time:2.10.1"
	compile "com.google.guava:guava:27.0.1-jre"
	compile "org.apache.commons:commons-lang3:3.8.1"
	compile "cn.hutool:hutool-all:4.1.19"
}

mainClassName = 'com.sinosun.ctrip.controller.CtripRest'

shadowJar {
	classifier = 'fat'
	mergeServiceFiles {
		include 'META-INF/services/io.vertx.core.spi.VerticleFactory'
	}
}

task wrapper(type: Wrapper) {
	gradleVersion = '4.0'
}